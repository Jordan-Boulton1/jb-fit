{% load static %}
<!-- Loading static files to include styles, images, and scripts -->

<!doctype html>
<html lang="en">
    <head>
        {% block meta %}
            <!-- Meta tags for browser compatibility, character set, responsiveness, and page description -->
            <meta http-equiv="X-UA-Compatible" content="ie=edge">
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta name="description" content="Achieve your fitness goals with personalized online personal training for all levels, from beginner to advanced. Get one-on-one coaching and purchase custom workout plans tailored to your needs. Start your fitness journey today!">

            <!-- Browser Favicon -->
            <link rel="icon" type="image/png" sizes="128x128" href="{% static 'images/favicon.png' %}">
        {% endblock %}

        {% block corecss %}
            <!-- Bootstrap CSS for responsive design and basic styling -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

            <!-- Custom base CSS -->
            <link rel="stylesheet" href="{% static 'css/base.css' %}">

            <!-- Google Fonts for custom typography -->
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cambay:ital,wght@0,400;0,700;1,400;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Mukta:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
        {% endblock %}

        {% block corejs %}
            <!-- Bootstrap JS for interactive components like modals and dropdowns -->
            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
            
            <!-- jQuery library for simplified JavaScript interactions -->
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
            
            <!-- Font Awesome for icons -->
            <script src="https://kit.fontawesome.com/c649b17804.js" crossorigin="anonymous"></script>
            
            <!-- Chart.js for data visualizations -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
            
            <!-- Stripe.js for payment processing -->
            <script src="https://js.stripe.com/v3/"></script>
        {% endblock %}

        <title>JB Fit</title>
        <!-- Page title displayed in the browser tab -->
    </head>
    <body>
        <!-- Header section with navigation bar -->
        <header class="header">
            <nav class="navbar navbar-expand-lg sticky-top">
                <div class="container">
                    <!-- Logo and brand link -->
                    <a class="navbar-brand" href="{% url 'home' %}" aria-label="Go to the home page">
                        <img src="{% static 'images/jb-fit-logo.webp' %}" alt="Online Personal Coaching Logo" width="100" height="45">
                    </a>

                    <!-- Toggler for collapsing the navbar on smaller screens -->
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fa-solid fa-bars"></i>
                    </button>

                    <!-- Collapsible navbar links -->
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <!-- Navigation links for different pages -->
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="{% url 'home' %}" aria-label="Navigate to the home page">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'about' %}" aria-label="Learn more about me">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'plans' %}" aria-label="View available training plans">Plans</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'faq' %}" aria-label="Read frequently asked questions">FAQ</a>
                            </li>
                        </ul>                        
                        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                            <!-- Conditional links based on user authentication status -->
                            {% if request.user.is_authenticated %}
                                <li class="nav-item">
                                    <a href="{% url 'profile' %}" class="nav-link" aria-label="View your profile">My Profile</a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'account_logout' %}" class="nav-link" aria-label="Logout from your account">Logout</a>
                                </li>
                            {% else %}
                                <li class="nav-item">
                                    <a href="{% url 'account_login' %}" class="nav-link" aria-label="Login to your account">Login</a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'account_signup' %}" class="nav-link" aria-label="Register for a new account">Register</a>
                                </li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <main>
            {% block content %}
            <!-- Main content block to be overridden by individual page templates -->
            {% endblock %}
        </main>

        <!-- Footer section with additional navigation and social media links -->
        <footer class="py-3" id="footer">
            <div class="container">
                <div class="social-links fs-3 text-center border-bottom pb-3 mb-3">
                    <!-- Social media icons linking to respective profiles -->
                    <a class="social-icon" href="https://www.facebook.com/" target="_blank" aria-label="Visit my Facebook page">
                        <i class="fa-brands fa-facebook"></i>
                    </a>
                    <a class="social-icon" href="https://www.instagram.com/" target="_blank" aria-label="Visit my Instagram profile">
                        <i class="fa-brands fa-instagram"></i>
                    </a>
                    <a class="social-icon" href="https://twitter.com/" target="_blank" aria-label="Visit my Twitter profile">
                        <i class="fa-brands fa-twitter"></i>
                    </a>
                    <a class="social-icon" href="https://linkedin.com/" target="_blank" aria-label="Visit my LinkedIn profile">
                        <i class="fa-brands fa-linkedin"></i>
                    </a>
                    <a class="social-icon" href="https://youtube.com/" target="_blank" aria-label="Visit my YouTube channel">
                        <i class="fa-brands fa-youtube"></i>
                    </a>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-12 col-lg-6 col-xl-6 my-3 text-center text-xl-start">
                        <h5 class="text-secondary-highlight mb-3">Quick Links</h5>
                        <!-- List of quick navigation links in the footer -->
                        <ul class="nav flex-column">
                            <li class="nav-item mb-2">
                                <a href="{% url 'home' %}" class="nav-link p-1 text-body-secondary" aria-label="Navigate to the home page">Home</a>
                            </li>
                            <li class="nav-item mb-2">
                                <a href="{% url 'about' %}" class="nav-link p-1 text-body-secondary" aria-label="Learn more about me">About</a>
                            </li>
                            <li class="nav-item mb-2">
                                <a href="{% url 'plans' %}" class="nav-link p-1 text-body-secondary" aria-label="View available training plans">Plans</a>
                            </li>
                            <li class="nav-item mb-2">
                                <a href="{% url 'faq' %}" class="nav-link p-1 text-body-secondary" aria-label="Read frequently asked questions">FAQ</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-12 col-lg-5 col-xl-5 offset-xl-1 my-3">
                        <!-- Newsletter subscription form -->
                        <form method="post">
                            {% csrf_token %}
                            <h5 class="text-secondary-highlight text-center text-xl-start">Subscribe to our newsletter</h5>
                            <p class="text-white text-center text-xl-start">Monthly news of everything going on in the fitness world.</p>
                            <div class="d-flex flex-column flex-sm-row w-100 gap-2">
                                {{ newsletter_form.email }}
                                <button class="btn btn-primary bg-gradient" type="submit">Subscribe</button>
                            </div>
                            <input type="hidden" name="form_type" value="newsletter">
                        </form>
                    </div>
                </div>
                <div class="row border-top">
                    <div class="col text-center mt-3">
                        <!-- Footer copyright text -->
                        <p class="mb-0 text-white">&copy; 2024 JB Fit. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </footer>

        {% block postloadjs %}
            <!-- Script for any additional JavaScript loaded after the main content -->
            <script type="module" src="{% static 'js/base.js' %}"></script>
        {% endblock %}
    </body>
</html>
