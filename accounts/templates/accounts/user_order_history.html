{% extends 'base.html' %}
{% load static %}

{% block content %}
<link href="{% static 'accounts/css/profile.css' %}" rel="stylesheet">
<div class="container-fluid d-flex justify-content-center align-items-center content-container py-4">
    <div class="col-12 col-xl-8"> <!-- Ensures it scales down on smaller devices -->
        <div class="card mb-4 jb-fit-card shadow-sm">
            <div class="card-header jb-fit-card-header d-flex flex-column align-items-center"> <!-- Flexbox for vertical alignment -->
                <div class="row">
                    <h5 class="card-title mb-2">Order History</h5> <!-- Adjusted margin for spacing -->
                </div>
                <div class="row">
                    <a class="btn back-btn" href="{% url 'profile' %}" aria-label="Go back to your profile page">&larr; Back</a>
                </div>
            </div>

            <div class="card-body jb-fit-card-body order-history-container overflow-auto custom-scrollbar" style="max-height: 400px;">
                <!-- Responsive table with Bootstrap's table-responsive class -->
                <div class="table-responsive"> <!-- Allows table to scroll on small devices -->
                    <table class="table table-striped table-hover" id="order-history-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Training Plan</th>
                                <th>Date of Purchase</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for order in order_history %}
                                <tr>
                                    <td>{{ forloop.counter }}</td> <!-- Displays the row number -->
                                    <td>{{ order.training_plan.name }}</td> <!-- Training Plan Name -->
                                    <td>{{ order.created_at|date:"F j, Y, g:i a" }}</td> <!-- Date of Purchase -->
                                </tr>
                            {% empty %}
                                <tr>
                                    <td colspan="4" class="text-center">No orders found.</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
